---
defaultNamespace: haproxytech

labels:
  fleet-bundle: haproxy-ingress

helm:
  chart: oci://ghcr.io/haproxytech/helm-charts/kubernetes-ingress
  version: 1.44.6
  releaseName: haproxy-ingress
  takeOwnership: true
  waitForJobs: false
  values:
    crdjob:
      ttlSecondsAfterFinished: 8640000
    controller:
      replicaCount: 1
      kubernetesGateway:
        enabled: true
        gatewayControllerName: haproxy.org/gateway-controller
      service:
        tcpPorts:
          - name: listener1
            protocol: TCP
            port: 8000
            targetPort: 8000

##  valuesFrom:
##    - configMapKeyRef:
##       name: haproxy-ingress-values
##       key: values.yaml
##kustomize:
##  dir: ./bootstrap

overrideTargets:
  - clusterGroupSelector:
      matchLabels:
        haproxy-ingress: enabled

###
